@page
@model ServiceHost.Pages.RegisterModel
@{
	Layout = "Shared/_Layout";
	ViewData["Title"] = "ثبت کاربر";
}
<div class="col-xl-6 col-lg-8 col-md-10 col-sm-10 col-12 p-0">
	<div class="card border-grey border-lighten-3 m-0 box-shadow-0 card-account-right">
		<div class="card-content">
			<div class="card-body px-2 pt-2">
				<p class="text-center h5 p-1 text-capitalize">خوش آمدید به سیستم حسابداری @ViewData["Company"] !</p>
				<p class="mb-2 text-center">لطفا‌ً اطلاعات ثبت خود را وارد کنید .</p>
				<form class="form-horizontal form-signin needs-validation" novalidate method="post" enctype="multipart/form-data">
					<div class="row">
						<div class="col-md-6">
							<fieldset class="form-label-group">
								<input type="text" class="form-control" id="Fullname" name="Fullname" placeholder="نام کامل" required="" autofocus="">
								<label for="Fullname">نام کامل</label>
							</fieldset>
						</div>
						<div class="col-md-6">
							<fieldset class="form-label-group">
								<input type="text" class="form-control" id="UserName" name="UserName" placeholder="نام کاربری" required="" autofocus="">
								<label for="UserName">نام کاربری</label>
							</fieldset>
						</div>
					</div>
					<div class="row">
						<div class="col-md-6">
							<div class="form-group">
								<input id="Mobile" dir="ltr" type="text" class="form-control" name="Mobile">
							</div>
						</div>
						<div class="col-md-6">
							<fieldset class="form-label-group">
								<input type="text" class="form-control" id="Password" name="Password" placeholder="نام کاربری" required="" autofocus="">
								<label for="Password">رمزعبور</label>
							</fieldset>
						</div>
					</div>
					<div class="row">
						<div class="col-md-6">
							<fieldset class="form-label-group">
								<input type="text" class="form-control" id="SecurityCod" name="SecurityCod" placeholder="نام کاربری" required="" autofocus="">
								<label for="SecurityCod">کد امنیتی</label>
							</fieldset>
						</div>
						<div class="col-md-6">
							<div class="form-group">
								<input type="file" class="form-control" name="ProfilePhoto" accept=".webp">
							</div>
						</div>
					</div>
					<input type="hidden" id="message" value="@Model.Message" />
					<input type="hidden" id="isSuccedded" value="@Model.IsSuccedded" />
					<div class="px-1 pb-1">
						<button type="submit" class="btn btn-sm btn-icon btn-outline-success">ثبت</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>
@section Scripts
	{
	<script>

		$('#Mobile').formatter({
			'pattern': '+({{99}})-{{99}}-{{9999999}}',
			'persistent': true
		});
	</script>
	@if (Model.Message != null)
	{
		<script>
			var message = document.getElementById("message").value;
			var isSuccedded = document.getElementById("isSuccedded").value;
			if (isSuccedded == false) {
				Swal.fire({
					position: 'center',
					icon: 'error',
					title: message,
					showConfirmButton: false,
					timer: 1500
				}).then(function (isConfirm) {
					window.location.href = "./Index";
				});
			} else {
				Swal.fire({
					position: 'center',
					icon: 'success',
					title: message,
					showConfirmButton: false,
					timer: 1500
				}).then(function (isConfirm) {
					window.location.href = "./Register";
				});
			}
		</script>
	}
}